name: Build Reminiscence APK

on:
push:
branches:
- main
workflow_dispatch:

permissions:
contents: write

jobs:
build:
name: Build and Release APK
runs-on: ubuntu-latest

```
steps:
  - name: Checkout repository
    uses: actions/checkout@v4

  - name: Setup Java 17
    uses: actions/setup-java@v4
    with:
      distribution: temurin
      java-version: 17

  - name: Setup Android SDK
    uses: android-actions/setup-android@v3

  - name: Grant execute permission for gradle (if wrapper exists)
    run: chmod +x gradlew || true

  - name: Build Debug APK
    run: gradle assembleDebug

  - name: Rename APK to reminiscence.apk
    run: cp app/build/outputs/apk/debug/app-debug.apk reminiscence.apk

  - name: Generate release version
    id: version
    run: echo "version=v$(date +'%Y.%m.%d.%H%M')" >> $GITHUB_OUTPUT

  - name: Create GitHub Release and Upload APK
    uses: softprops/action-gh-release@v2
    with:
      tag_name: ${{ steps.version.outputs.version }}
      name: Reminiscence ${{ steps.version.outputs.version }}
      files: reminiscence.apk
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```
